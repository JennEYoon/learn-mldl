(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{330:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var o,a,r=n(322),i=n(376),s=n(325),l=(n(337),o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});!function(e){e[e.standard=0]="standard",e[e.dark=1]="dark",e[e.gold=2]="gold",e[e.green=3]="green",e[e.red=4]="red"}(a||(a={}));var c={backgroundColor:"rgba(0, 0, 0, 0.75)",zIndex:1008,top:0,display:"flex",alignItems:"center",justifyContent:"center",position:"fixed"},p={alignItems:"flex-start"},u={backgroundColor:"rgb(255, 255, 255)",display:"fixed",position:"relative",top:"unset",left:"unset",right:"unset",bottom:"unset",border:"unset",borderRadius:"unset",width:"100%",color:"#3C3C3C",overflow:"visible",padding:"20px 40px"},d={maxWidth:"600px",margin:"0 auto",padding:"0"},h={maxHeight:"90vh",overflow:"auto",maxWidth:"85vw"},m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l(t,e),t.prototype.render=function(){var e=this,t=Object.assign({},u),n=c,o=Object.assign({},h),s=Object.assign({},d);this.props.isContentVerticalTop&&(n=Object.assign({},n,p)),this.props.isPositionStatic&&(n=Object.assign({},n,{position:"static"})),this.props.dontGoFullWidth&&(t=Object.assign({},t,{width:"auto"})),this.props.hasNoPadding&&(t=Object.assign({},t,{padding:"0"})),this.props.noWidthLimitation&&(o=Object.assign({},o,{maxWidth:"auto"}),s=Object.assign({},s,{maxWidth:"auto"})),this.props.theme==a.dark?t=Object.assign({},t,{backgroundColor:"rgb(51, 51,51)"}):this.props.theme==a.gold?t=Object.assign({},t,{backgroundColor:"rgb(254, 203, 47)"}):this.props.theme==a.green?t=Object.assign({},t,{backgroundColor:"rgb(57, 121, 38)"}):this.props.theme==a.red&&(t=Object.assign({},t,{backgroundColor:"rgb(195, 41, 28)"})),this.props.contentTopOffset&&(t=Object.assign({},t,{top:this.props.contentTopOffset})),this.props.initialOverlayTop&&(n.top=this.props.initialOverlayTop,o.maxHeight="calc("+h.maxHeight+" - "+this.props.initialOverlayTop+")");var l={"dark-theme":this.props.theme==a.dark,"gold-theme":this.props.theme==a.gold,"green-theme":this.props.theme==a.green,"red-theme":this.props.theme==a.red};return this.props.parentElement&&this.props.parentElement!=document.body?r.createElement("div",{className:"ReactModal__Overlay",style:n},r.createElement("div",{style:t},this.generateModalContent(l,s,o))):r.createElement(i,{isOpen:this.props.isOpen,appElement:document.body,style:{overlay:n,content:t},parentSelector:function(){return document.body},onRequestClose:function(){null!=e.props.onClose&&(e.props.onClose instanceof Function?e.props.onClose():console.error&&console.error("onClose is not a function",e.props.onClose,e.props.mainContainerClassName))}},this.generateModalContent(l,s,o))},t.prototype.generateModalContent=function(e,t,n){var o=this;return r.createElement(r.Fragment,null,r.createElement("div",{className:s("modal-header",e,this.props.additionalModalHeaderClass)},r.createElement("div",{className:"modal-back-button-container"},this.props.hasBackButton?r.createElement("div",{className:"modal-header-button",onClick:function(e){return o.props.onBack&&o.props.onBack()}},r.createElement("i",{className:"fa fw fa-chevron-left"})):r.createElement("i",{className:"fa fw fa-chevron-left",style:{opacity:0}})),r.createElement("div",{className:"modal-title-container"},this.props.title&&r.createElement("h3",{dangerouslySetInnerHTML:{__html:this.props.title}}),this.props.subtitle&&r.createElement("span",{style:this.props.subtitleStyle},this.props.subtitle)),r.createElement("div",{className:s("modal-close-button-container",{"no-padding":this.props.hasNoPadding})},r.createElement("div",{className:"modal-header-button",onClick:function(e){return o.props.onClose&&o.props.onClose()}},r.createElement("i",{className:"fa fw fa-times"})))),r.createElement("div",{className:s(this.props.mainContainerClassName,e),style:t},r.createElement("div",{style:n,className:"modal-content-container"},this.props.children,r.createElement("div",null,this.props.actionMessageHTML&&r.createElement("span",{className:s("tokens-button action-button",this.props.actionButtonAdditionalClass),onClick:this.props.onActionClicked,dangerouslySetInnerHTML:{__html:this.props.actionMessageHTML}}),this.props.secondayActionMessageHTML&&r.createElement("span",{className:s("tokens-button action-button",this.props.secondaryActionButtonAdditionalClass),onClick:this.props.onSecondaryActionClicked,dangerouslySetInnerHTML:{__html:this.props.secondayActionMessageHTML}})),this.props.cancelationMessageHTML&&r.createElement("span",{className:"tokens-button cancel-button",onClick:this.props.onCancelationClicked,dangerouslySetInnerHTML:{__html:this.props.cancelationMessageHTML}}))))},t}(r.Component);t.b=m},331:function(e,t,n){"use strict";var o=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],a=function(){function e(){}return e.prototype.formatDate=function(e){var t=""+(e.getMonth()+1),n=""+e.getDate(),o=e.getFullYear();return t.length<2&&(t="0"+t),n.length<2&&(n="0"+n),[o,t,n].join("-")},e.prototype.getWords=function(e){return(e||"").split(/\s+/g)},e.prototype.getMapFromArray=function(e){var t={};if(!e)return t;for(var n=0,o=e;n<o.length;n++){t[o[n]]=!0}return t},e.prototype.combineInNew=function(e,t){return Object.assign({},e,t)},e.prototype.extend=function(e,t){return Object.assign(e,t)},e.prototype.trimEnd=function(e,t){if(void 0===t&&(t=" "),!e)return e;for(var n=e.length-1;n>=0&&e.charAt(n)==t;)n--;return e.substring(0,n+1)},e.prototype.getArrayFromMap=function(e){var t=[];for(var n in e)t.push(e[n]);return t},e.prototype.areDeepEqual=function(e,t){var n,o=Object.keys(e).sort(),a=Object.keys(t).sort();if(o.length!==a.length)return!1;if(o.join("")!==a.join(""))return!1;for(n=0;n<o.length;++n){if(e[o[n]]instanceof Array){if(!(t[o[n]]instanceof Array))return!1;if(t[o[n]].sort().join("")!==e[o[n]].sort().join(""))return!1}else if(e[o[n]]instanceof Date){if(!(t[o[n]]instanceof Date))return!1;if(""+e[o[n]]!=""+t[o[n]])return!1}else if(e[o[n]]instanceof Function){if(!(t[o[n]]instanceof Function))return!1}else if(e[o[n]]instanceof Object){if(!(t[o[n]]instanceof Object))return!1;if(e[o[n]]===e){if(t[o[n]]!==t)return!1}else if(!1===this.areDeepEqual(e[o[n]],t[o[n]]))return!1}if(e[o[n]]!==t[o[n]])return!1}return!0},e.prototype.shuffleArray=function(e){for(var t,n,o=e.length;0!==o;)n=Math.floor(Math.random()*o),t=e[o-=1],e[o]=e[n],e[n]=t;return e},e.prototype.removeItemFromArray=function(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)},e.prototype.roundToTwoDecimalPlaces=function(e){return Math.round(100*e)/100},e.prototype.getDateAsString=function(e,t){if(void 0===t&&(t=!1),!e)return"";var n=e.getMonth(),a=e.getFullYear();return Number.isNaN(n)||Number.isNaN(a)?"":t?o[n]+" "+e.getDate()+", "+a+" at "+this.formatToDoubleDigits(e.getHours())+":"+this.formatToDoubleDigits(e.getMinutes()):o[n]+" "+a},e.prototype.formatToDoubleDigits=function(e){return e>=10?e:"0"+e},e.prototype.monthDiff=function(e,t){var n;return n=12*(t.getFullYear()-e.getFullYear()),n-=e.getMonth()+1,(n+=t.getMonth())<=0?0:n},e.prototype.getOrdinalExtension=function(e){return e<0?"":1==e?"st":2==e?"nd":3==e?"rd":e>=4?"th":void 0},e.prototype.formatMoney=function(e){return(e||0).toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")},e.prototype.numberWithCommas=function(e){try{return(e||0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}catch(t){return e}},e}();t.a=new a},337:function(e,t,n){var o=n(338);"string"==typeof o&&(o=[[e.i,o,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(324)(o,a);o.locals&&(e.exports=o.locals)},338:function(e,t,n){(e.exports=n(323)(!1)).push([e.i,".ReactModal__Overlay{animation:fade-in-black-background 0.1s ease-in-out;font-family:'Lato';position:relative;text-align:left}.ReactModal__Overlay .dark-theme .modal-title-container{color:#fecb2f}.ReactModal__Overlay .dark-theme p{color:white}.ReactModal__Overlay .green-theme{color:white}.ReactModal__Overlay .green-theme .modal-header-button{color:white}.ReactModal__Overlay .green-theme h3,.ReactModal__Overlay .green-theme em,.ReactModal__Overlay .green-theme p{color:white}.ReactModal__Overlay .red-theme{color:white}.ReactModal__Overlay .red-theme .modal-header-button{color:white}.ReactModal__Overlay .red-theme h3,.ReactModal__Overlay .red-theme em,.ReactModal__Overlay .red-theme p{color:white}.ReactModal__Overlay .gold-theme .modal-header-button{color:#c69501}.ReactModal__Overlay .gold-theme h3{font-weight:bold}.ReactModal__Overlay .gold-theme .modal-content-container{margin-top:-1em;overscroll-behavior:none;-ms-scroll-chaining:none}.ReactModal__Overlay .modal-header{display:flex;align-items:center;justify-content:space-between;font-weight:300;line-height:1}.ReactModal__Overlay .modal-header-button{font-size:1em;cursor:pointer;user-select:none;color:#9a9a9a}.ReactModal__Overlay .modal-back-button-container{position:absolute;top:35px;left:20px}.ReactModal__Overlay .modal-close-button-container{position:absolute;top:35px;right:20px;z-index:10}.ReactModal__Overlay .modal-close-button-container.no-padding{top:25px}@media screen and (max-width: 450px){.ReactModal__Overlay .modal-close-button-container.no-padding{top:15px}}.ReactModal__Overlay .modal-title-container{max-width:600px;margin:0 auto}.ReactModal__Overlay h3{font-size:2em;font-weight:300;display:inline-block;margin:0 0.5em 20px 0;color:inherit}.ReactModal__Overlay .modal-title-container{flex:1 auto}.ReactModal__Overlay .cancel-button{float:right}.ReactModal__Overlay .tokens-button{background-color:gray}.ReactModal__Overlay .tokens-button:hover:not(.disabled){background-color:#9a9a9a}.ReactModal__Overlay .tokens-button:active:not(.disabled){background-color:#8d8d8d}.ReactModal__Overlay .tokens-button.action-button{color:white;background-color:#3C67A2}.ReactModal__Overlay .tokens-button.action-button:hover:not(.disabled){background-color:#5280bf}.ReactModal__Overlay .tokens-button.action-button:active:not(.disabled){background-color:#4373b5}@keyframes fade-in-black-background{0%{background-color:rgba(0,0,0,0)}100%{background-color:rgba(0,0,0,0.75)}}\n",""])},382:function(e,t,n){"use strict";var o,a=n(322),r=(n(518),o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return a.createElement("div",{className:"loading-results-container"},a.createElement("i",{className:"loading-icon fa fa-circle-notch fa-circle-o-notch fa-spin fa-3x fa-fw"}))},t}(a.Component);t.a=i},404:function(e,t,n){"use strict";var o=function(){function e(e){this.configuration=e}return e.prototype.isOnline=function(){return navigator.onLine},e.prototype.ajax=function(e,t,n,o,a,r){void 0===a&&(a=!1),void 0===r&&(r=!1),this.getJSON(e,function(e){return t(e)},function(e){return n(e)},o,a,r)},e.prototype.getJSON=function(e,t,n,o,a,r){void 0===a&&(a=!1),void 0===r&&(r=!1);var i=new XMLHttpRequest;o&&o instanceof Object&&!a&&(e+="?"+this.serializeObject(o)),a?i.open("post",e,!0):i.open("get",e,!0),a?i.setRequestHeader("Content-Type","application/json;charset=UTF-8"):i.setRequestHeader("Content-Type","application/text;charset=UTF-8"),r&&(i.withCredentials=!0),i.onreadystatechange=function(){var e,o;if(4==i.readyState)if(200==(e=i.status)){try{o=JSON.parse(i.responseText)}catch(e){return void(n&&n(e))}t&&t(o)}else n&&n(e)},a?i.send(JSON.stringify(o)):i.send()},e.prototype.configure=function(e){this.configuration=e},e.prototype.getAbsoluteLivebookAwsUrl=function(e){return this.getAbsoluteUrl(this.configuration.aws.livebook,e)},e.prototype.getAbsoluteBackendUrl=function(e){return this.getAbsoluteUrl(this.configuration.backend.base,e)},e.prototype.getAbsoluteBackendLivebookUrl=function(e){return this.getAbsoluteUrl(this.configuration.backend.livebook,e)},e.prototype.getAbsoluteBackendLivevideoUrl=function(e){return this.getAbsoluteUrl(this.configuration.backend.livevideo,e)},e.prototype.getAbsoluteUrl=function(e,t){var n=e;return n.endsWith("/")||t.startsWith("/")||(n+="/"),n+t},e.getAbsoluteLink=function(e,t){if(!e)return t;if(!t)return e;var n=e;return e.endsWith("/")||t.startsWith("/")?e.endsWith("&")&&t.startsWith("/")&&(n=n.substr(0,n.length-1)):n+="/",n+t},e.isLivebookLink=function(e){return!!e&&-1!=e.indexOf("/book/")},e.isLivevideoLink=function(e){return!!e&&-1!=e.indexOf("module/")},e.prototype.serializeObject=function(e){if(!e)return"";var t=[];for(var n in e)e.hasOwnProperty(n)&&void 0!==e[n]&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")},e}();t.a=o},411:function(e,t,n){var o=n(816);"string"==typeof o&&(o=[[e.i,o,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(324)(o,a);o.locals&&(e.exports=o.locals)},518:function(e,t,n){var o=n(519);"string"==typeof o&&(o=[[e.i,o,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(324)(o,a);o.locals&&(e.exports=o.locals)},519:function(e,t,n){(e.exports=n(323)(!1)).push([e.i,".loading-results-container{min-height:100%;width:100%;text-align:center;display:flex;justify-content:center;align-items:center}.loading-results-container .loading-icon{font-size:60px}\n",""])},523:function(e,t,n){"use strict";var o,a=n(322),r=n(325),i=n(330),s=(n(411),n(817),o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),l=function(e){function t(t){return e.call(this,t)||this}return s(t,e),t.prototype.render=function(){return a.createElement(i.b,{mainContainerClassName:r("token-notifier-container",this.props.mainContainerClassName),isOpen:this.props.isShown,onClose:this.props.onClose,title:this.props.title,subtitle:this.props.subtitle,subtitleStyle:{display:"block",fontStyle:"italic"},theme:void 0===this.props.theme?i.a.dark:this.props.theme,isContentVerticalTop:!0,initialOverlayTop:this.props.topOffset,isPositionStatic:this.props.isPositionStatic,parentElement:this.props.parentElement},this.props.children,this.props.confirmationMessageHTML&&a.createElement("span",{className:r("tokens-button emphasized-tokens-button",this.props.confirmationButtonAdditionalClass),onClick:this.props.onConfirmationClicked,dangerouslySetInnerHTML:{__html:this.props.confirmationMessageHTML}}),this.props.cancelationMessageHTML&&a.createElement("span",{className:"tokens-button cancel-button",onClick:this.props.onCancelationClicked,dangerouslySetInnerHTML:{__html:this.props.cancelationMessageHTML}}))},t}(a.Component);t.a=l},614:function(e,t,n){"use strict";var o,a=n(322),r=n(523),i=(n(819),n(411),o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){return a.createElement(r.a,{mainContainerClassName:"token-modal out-of-tokens-modal",title:"Out of tokens",isShown:this.props.isShown,onClose:this.props.onClose,topOffset:this.props.topOffset},a.createElement("p",null,"You do not have enough ",this.props.isMeap?a.createElement("strong",null,"free"):""," tokens to unlock this content.",this.props.isMeap&&" Unlocking in MEAPs is limited to free tokens because future MEAP versions are subject to change. ",this.props.isMeap&&" To view more, purchase the entire "+this.props.productType+".",!this.props.isMeap&&" To view more, either get more tokens or purchase the entire "+this.props.productType+"."),a.createElement("div",{className:"out-of-tokens-modal-command-container"},this.props.showBuyTokensButton&&a.createElement("span",{className:"tokens-button emphasized-tokens-button",onClick:this.props.onRequestBuyTokens},"buy tokens"),this.props.showCartButton&&(this.props.isProductAlreadyInCart?a.createElement("span",{className:"tokens-button view-in-cart-token-button",onClick:this.props.onRequestCart},"view ",a.createElement("em",null,this.props.productTitle)," in cart"):a.createElement("span",{className:"tokens-button add-to-cart-token-button",onClick:this.props.onRequestCart},this.props.isBuyMessage?"buy ":"add ",a.createElement("em",null,this.props.productTitle),this.props.isBuyMessage?"":" to cart "))))},t}(a.Component);t.a=s},615:function(e,t,n){"use strict";var o,a=n(322),r=n(325),i=n(330),s=(n(411),n(833),n(331)),l=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),c=function(e){function t(t){return e.call(this,t)||this}return l(t,e),t.prototype.render=function(){return this.props.spentTokenAmount<=0||this.props.spentDollarAmount<=0?null:a.createElement(i.b,{mainContainerClassName:r("token-upsell-container"),isOpen:this.props.isShown,onClose:this.props.onClose,title:"",subtitle:"",theme:i.a.gold,isContentVerticalTop:!1,initialOverlayTop:this.props.topOffset},a.createElement("span",{className:"upsell-logical-line-item"},"Because you've spent ",a.createElement("svg",{viewBox:"0 0 10.583333 10.583334",dangerouslySetInnerHTML:{__html:'<use xlink:href="#token-icon">'}})," ",a.createElement("strong",null,s.a.numberWithCommas(this.props.spentTokenAmount))," on ",a.createElement("em",null,this.props.productTitle),","),a.createElement("span",{className:"upsell-logical-line-item"},"you can ",a.createElement("a",{href:"javascript:void(0)",onClick:this.props.onBuy},"buy")," it anytime for ",a.createElement("strong",null,"$",s.a.formatMoney(this.props.spentDollarAmount))," off the list price."))},t}(a.Component);t.a=c},667:function(e,t,n){"use strict";var o,a=n(322),r=n(331),i=n(330),s=n(382),l=n(325),c=n(344),p=(n(821),o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),u=function(e){function t(t){return e.call(this,t)||this}return p(t,e),t.prototype.render=function(){var e=this,t=this.props.purchasedTokens,n=this.props.compedTokens,o=t+n,i=t>0;return a.createElement("div",null,this.props.isProcessing&&a.createElement("div",{style:{height:200}},a.createElement(s.a,null)),!this.props.isProcessing&&a.createElement("div",{className:"token-stack-main-container"},a.createElement("div",{className:"token-stack-info-container"},a.createElement("div",{className:"token-stack-info-row"},a.createElement("span",{className:"token-stack-info-row-qualifier-label"},"free"),a.createElement("span",{className:"token-stack-info-row-token-container"},a.createElement("svg",{"data-tip":"you have "+n+" free tokens","data-place":"top","data-effect":"solid","data-delay-show":"150",viewBox:"0 0 10.583333 10.583334",dangerouslySetInnerHTML:{__html:'<use xlink:href="#token-icon">'}})),a.createElement("span",{className:"token-stack-info-row-token-count"},r.a.numberWithCommas(n))),a.createElement("div",{className:"token-stack-info-row"},a.createElement("span",{className:"token-stack-info-row-qualifier-label"},"purchased"),a.createElement("span",{className:"token-stack-info-row-token-container"},a.createElement("svg",{"data-tip":"you have "+t+" purchased tokens","data-place":"top","data-effect":"solid","data-delay-show":"150",viewBox:"0 0 10.583333 10.583334",dangerouslySetInnerHTML:{__html:'<use xlink:href="#token-icon">'}})),a.createElement("span",{className:"token-stack-info-row-token-count"},r.a.numberWithCommas(t))),a.createElement("div",{className:"token-stack-info-row"},a.createElement("span",{className:"token-stack-info-row-qualifier-label"},"total"),a.createElement("span",{className:"token-stack-info-row-token-container"},a.createElement("svg",{"data-tip":"you have "+o+" tokens","data-place":"bottom","data-effect":"solid","data-delay-show":"150",viewBox:"0 0 10.583333 10.583334",dangerouslySetInnerHTML:{__html:'<use xlink:href="#token-icon">'}})),a.createElement("span",{className:"token-stack-info-row-token-count"},r.a.numberWithCommas(o)))),a.createElement("div",{className:"token-stack-buttons-container"},a.createElement("div",{className:"tokens-button",onClick:this.props.onShowTokenLedger},"token ledger"),a.createElement("div",{title:i?"":"You don't have any tokens eligible for cashout",className:l("tokens-button",{disabled:!i}),onClick:function(t){return i&&e.props.onCashout&&e.props.onCashout()}},"cash out"),a.createElement("div",{className:"tokens-button emphasized-tokens-button",onClick:this.props.onGetMoreTokens},"get more tokens"))),a.createElement(c,null))},t}(a.Component),d=(n(823),n(411),n(404)),h=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),m=function(e){function t(t){return e.call(this,t)||this}return h(t,e),t.prototype.render=function(){var e=this.props.items||[];e.sort(function(e,t){return t.date.getTime()-e.date.getTime()}),this.prioritizeFreeRedemptionsInListOrder(e);var t,n=0;for(t=e.length-1;t>=0;t--)n+=e[t].quantity,e[t].balance=n;return a.createElement("div",null,this.generateContent(e,n))},t.prototype.generateContent=function(e,t){var n=this;return this.props.isProcessing?a.createElement(s.a,null):0==e.length?a.createElement(a.Fragment,null,a.createElement("p",null,"We don't have any information on your transactions."),a.createElement("span",{className:"tokens-button emphasized-tokens-button",onClick:this.props.onGetMoreTokens},"get more tokens")):a.createElement("div",{className:"token-ledger-table-container"},a.createElement("table",{cellSpacing:0},a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",null,"date"),a.createElement("th",{colSpan:2},"description"),a.createElement("th",null,"acquired"),a.createElement("th",null,"redeemed"),a.createElement("th",null,"balance"))),a.createElement("tbody",null,e.map(function(e,t){var o=e.quantity<0?"<em>"+e.description+"</em>":e.description;if(e.link){var i=n.extractLinkDescription(e.link,e.notes),s="";s=d.a.isLivebookLink(e.link)?d.a.getAbsoluteLink(n.props.livebookBaseLink,e.link):d.a.isLivevideoLink(e.link)?d.a.getAbsoluteLink(n.props.livevideoBaseLink,e.link):e.link,i?o+=", <a href='"+s+"'>"+i+"</a>":o="<a href='"+s+"'>"+o+"</a>"}return a.createElement("tr",{key:t},a.createElement("td",null,e.date.toLocaleDateString("en-US")),a.createElement("td",{colSpan:2,dangerouslySetInnerHTML:{__html:o}}),a.createElement("td",null,e.quantity>0?r.a.numberWithCommas(e.quantity):" "),a.createElement("td",null,e.isFreeTokensRedemption&&a.createElement("span",{title:"you have used free tokens to access this content",className:"free-flag"}," free "),e.isFreeTokensRedemption&&a.createElement("span",null," "),e.quantity<0?r.a.numberWithCommas(-e.quantity):" "),a.createElement("td",null," ",r.a.numberWithCommas(e.balance)," "))})),a.createElement("tfoot",null,a.createElement("tr",null,a.createElement("td",{colSpan:4},a.createElement("span",{className:"tokens-button emphasized-tokens-button",onClick:this.props.onGetMoreTokens},"get more tokens"),a.createElement("span",{title:this.props.isCashoutDisabled?"You don't own tokens eligible for cashout":"",className:l("tokens-button",{disabled:this.props.isCashoutDisabled}),onClick:function(e){return!n.props.isCashoutDisabled&&n.props.onCashout&&n.props.onCashout()}},"cash out")),a.createElement("td",{colSpan:2},a.createElement("span",{className:"total-balance-container"},"balance ",a.createElement("svg",{viewBox:"0 0 10.583333 10.583334",dangerouslySetInnerHTML:{__html:'<use xlink:href="#token-icon">'}})," ",a.createElement("span",{className:"balance-label"},r.a.numberWithCommas(t))))))))},t.prototype.extractLinkDescription=function(e,t){return e?d.a.isLivebookLink(e)?this.extractLivebookLinkDescription(e,t):d.a.isLivevideoLink(e)?this.extractLivevideoLinkDescription(e,t):void 0:""},t.prototype.extractLivebookLinkDescription=function(e,t){if(!e)return"";var n="",o=e.match(/(chapter-[0-9]+)|(appendix(-[a-z])?)|(part-[0-9]+)/i);o&&o[0]&&(n+=o[0].replace("-"," "));var a=e.match(/section(-[0-9|A-Z]+)+/i);if(a&&a[0])n+=", "+a[0].replace("section-","section ").replace(/\-/g,".");else{var r=e.substring(e.lastIndexOf("/")+1,e.length);Number.isNaN(parseInt(r))||(n=n+", paragraph #"+r)}return n},t.prototype.extractLivevideoLinkDescription=function(e,t){var n=this.extractLivevideoLinkDescriptionFromNotes(t),o=e.indexOf("?t=");if(o>0){var a=parseFloat(e.substring(o+"?t=".length));!Number.isNaN(a)&&a>=0&&(n+=", @"+Math.floor(a)+"s")}return n},t.prototype.extractLivevideoLinkDescriptionFromLink=function(e){var t=e.match(/([0-9]+)_([0-9]+)_([0-9]+)/i);if(!t||t.length<3)return"";var n="";return t[2]&&(n+="Unit "+t[2]),t[3]&&(n+=", Module "+t[3]),n},t.prototype.extractLivevideoLinkDescriptionFromNotes=function(e){if(!e)return"";var t="",n=e.match(/\|U([0-9]+)/i);null!=n&&(t+="unit "+n[1]);var o=e.match(/\|M([0-9]+)/i);null!=o&&o[1]&&(t+=", module "+o[1]);var a=e.match(/\|P([0-9]+)/i);return null!=a&&a[1]&&(t+=", paragraph #"+a[1]),t},t.prototype.prioritizeFreeRedemptionsInListOrder=function(e){var t,n=e.length;for(t=0;t<n-1;t++)if(e[t].isFreeTokensRedemption&&!e[t+1].isFreeTokensRedemption&&Math.abs(e[t].date.getTime()-e[t+1].date.getTime())<=1e3&&e[t].description===e[t+1].description&&e[t].notes===e[t+1].notes){var o=e[t];e[t]=e[t+1],e[t+1]=o;var a=e[t].balance;e[t].balance=e[t+1].balance,e[t+1].balance=a,console.log("Switched "+t+" and "+(t+1))}},t}(a.Component),f=(n(825),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),k=function(e){function t(t){return e.call(this,t)||this}return f(t,e),t.prototype.render=function(){return null==this.props.paymentTypes||0==this.props.paymentTypes.length?a.createElement(a.Fragment,null,a.createElement("p",null,"Unfortunatey, we don't have enough information to perform the cashout. Please contact our support at support@manning.com."),a.createElement("div",{className:"cashout-commands-container"},a.createElement("span",{className:"tokens-button",onClick:this.props.onClose},"close"))):this.props.isCashoutComplete?a.createElement(a.Fragment,null,a.createElement("div",{className:"cashout-subtitle big-cashout-subtitle"},a.createElement("svg",{viewBox:"0 0 10.583333 10.583334",dangerouslySetInnerHTML:{__html:'<use xlink:href="#token-icon">'}}),a.createElement("span",{className:"token-amount"},r.a.numberWithCommas(this.props.tokenCount)),"have been cashed out for",a.createElement("span",{className:"dollar-amount"},"$",r.a.formatMoney(this.props.tokenCount*this.props.tokenPrice))),a.createElement("div",{className:"cashout-explanation-done"},"the cash will be available in your account in a few days")):a.createElement("div",null,a.createElement("div",{className:"cashout-subtitle"},"you have",a.createElement("svg",{viewBox:"0 0 10.583333 10.583334",dangerouslySetInnerHTML:{__html:'<use xlink:href="#token-icon">'}}),a.createElement("span",{className:"token-amount"},r.a.numberWithCommas(this.props.tokenCount)),"eligible to be cashed out for",a.createElement("span",{className:"dollar-amount"},"$",r.a.formatMoney(this.props.tokenCount*this.props.tokenPrice))),a.createElement("div",{className:"cashout-explanation"},"the cash will be returned to",this.generatePaymentInfo()),a.createElement("div",{className:"cashout-commands-container"},a.createElement("span",{className:"tokens-button emphasized-tokens-button",onClick:this.props.onCashout},"cash out"),a.createElement("span",{className:"tokens-button",onClick:this.props.onClose},"cancel")))},t.prototype.generatePaymentInfo=function(){var e=this.props.paymentTypes;return 1==e.length?a.createElement(a.Fragment,null," your ",a.createElement("span",{className:"payment-info-container"},e[0].brand," (",e[0].qualifier,")")):2==e.length?a.createElement(a.Fragment,null," your ",a.createElement("span",{className:"payment-info-container"},e[0].brand,"  (",e[0].qualifier,")")," and  ",a.createElement("span",{className:"payment-info-container"},e[1].brand,"  (",e[1].qualifier,")")):a.createElement("ul",null,e.map(function(e){return a.createElement("li",{className:"payment-info-container"},e.brand," (",e.qualifier,")")}))},t}(a.Component),g=(n(827),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),b=function(e){function t(t){var n=e.call(this,t)||this;n.handleChange=n.handleChange.bind(n),n.handlePressStartOnDown=n.handlePressStartOnDown.bind(n),n.handlePressStartOnUp=n.handlePressStartOnUp.bind(n),n.handlePressEnd=n.handlePressEnd.bind(n),n.handleKeyDown=n.handleKeyDown.bind(n);var o=n.getValueErrorMessage(n.props.initialValue||0);return n.state={value:n.props.initialValue||0,isValid:!o,errorMessage:o},n}return g(t,e),t.prototype.componentWillReceiveProps=function(e){e.initialValue!=this.state.value&&this.updateValueIfPossible(e.initialValue,!1)},t.prototype.render=function(){return a.createElement("div",{className:"number-input-container"},this.props.iconContainerHTML&&a.createElement("span",{className:"icon-container",dangerouslySetInnerHTML:{__html:this.props.iconContainerHTML}}),a.createElement("input",{type:"number","data-tip":this.state.errorMessage,"data-place":"bottom","data-effect":"solid","data-for":"number-input-tooltip",className:l({invalid:!this.state.isValid}),min:this.props.min,max:this.props.max,value:this.props.acceptsCurrency?parseFloat(""+(Number.isNaN(this.state.value)?0:this.state.value||0)).toFixed(2):this.state.value,step:this.props.step,onKeyDown:this.handleKeyDown,onChange:this.handleChange}),a.createElement("div",{className:"arrows-container"},a.createElement("div",{className:"arrow-up-container arrow-container",onMouseDown:this.handlePressStartOnUp,onTouchStart:this.handlePressStartOnUp},a.createElement("i",{className:"fa fa-caret-up"})),a.createElement("div",{className:"arrow-down-container arrow-container",onMouseDown:this.handlePressStartOnDown,onTouchStart:this.handlePressStartOnDown},a.createElement("i",{className:"fa fa-caret-down"}))),a.createElement(c,{id:"number-input-tooltip"}))},t.prototype.componentDidMount=function(){document.addEventListener("mouseup",this.handlePressEnd),document.addEventListener("touchend",this.handlePressEnd)},t.prototype.componentWillUnmount=function(){document.removeEventListener("mouseup",this.handlePressEnd),document.removeEventListener("touchend",this.handlePressEnd)},t.prototype.handleChange=function(e){this.updateValueIfPossible(e.target.value)},t.prototype.getValueErrorMessage=function(e){if(""===e)return"value cannot be empty";if(this.props.acceptOnlyPositiveIntegers){var t=parseInt(""+e);if(Number.isNaN(t)||!Number.isInteger(t)||t<=0)return"value has to be a positive integer"}var n=parseFloat(""+e);return Number.isNaN(n)||n<this.props.min||n>this.props.max?"value has to be a greater than "+this.props.min+" and smaller than "+this.props.max:""},t.prototype.handleKeyDown=function(e){38==e.keyCode?this.increment(!1):40==e.keyCode&&this.decrement(!1)},t.prototype.handlePressEnd=function(){clearInterval(this.upIntervalId),clearInterval(this.downIntervalId)},t.prototype.handlePressStartOnDown=function(){this.state.value-this.props.step>=this.props.min&&this.decrement(!0)},t.prototype.handlePressStartOnUp=function(){this.state.value+this.props.step<=this.props.max&&this.increment(!0)},t.prototype.increment=function(e){var t=this;if(void 0===e&&(e=!0),this.updateValueIfPossible(parseFloat(""+(this.state.value||0))+Math.abs(this.props.step||1)),clearInterval(this.upIntervalId),clearInterval(this.downIntervalId),e){var n=Math.abs(this.props.step||1),o=n;this.upIntervalId=setInterval(function(){var e=parseFloat(""+(t.state.value||0))+o;e>t.props.max&&(e=t.props.max),t.updateValueIfPossible(e),o+=n},200)}},t.prototype.decrement=function(e){var t=this;if(void 0===e&&(e=!0),this.updateValueIfPossible(this.state.value-Math.abs(this.props.step||1)),clearInterval(this.upIntervalId),clearInterval(this.downIntervalId),e){var n=Math.abs(this.props.step||1),o=n;this.downIntervalId=setInterval(function(){var e=t.state.value-o;e<t.props.min&&(e=t.props.min),t.updateValueIfPossible(e),o+=n},200)}},t.prototype.updateValueIfPossible=function(e,t){void 0===t&&(t=!0),this.props.acceptsCurrency&&""!=e&&(e=parseFloat(e).toFixed(2)),(Number.isNaN(e)||"NaN"==e)&&(e=0);var n=this.getValueErrorMessage(e);e!=this.state.value&&t&&this.props.onValueChange&&this.props.onValueChange(e),this.setState({value:e,isValid:!n,errorMessage:n})},t.prototype.formatCurrency=function(e){try{return r.a.roundToTwoDecimalPlaces(parseFloat(e))}catch(t){return e}},t}(a.Component),v=(n(829),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),y=function(e){function t(t){var n=e.call(this,t)||this;return n.handleTokenValueChange=n.handleTokenValueChange.bind(n),n.handleDollarValueChange=n.handleDollarValueChange.bind(n),n.handleAddToCart=n.handleAddToCart.bind(n),n.state={currentNumberOfTokens:5/n.props.tokenPrice},n.MAX_NUMBER_OF_DOLLARS=50,n.MIN_NUMBER_OF_TOKENS=1/n.props.tokenPrice,n.MAX_NUMBER_OF_TOKENS=n.MAX_NUMBER_OF_DOLLARS/n.props.tokenPrice,n}return v(t,e),t.prototype.render=function(){return this.props.isProcessing?a.createElement(s.a,null):a.createElement(a.Fragment,null,a.createElement("div",{className:"token-purchaser-commands-container"},a.createElement("div",{className:"token-number-input-container"},a.createElement(b,{min:this.MIN_NUMBER_OF_TOKENS,max:this.MAX_NUMBER_OF_TOKENS,step:10,initialValue:this.state.currentNumberOfTokens,acceptOnlyPositiveIntegers:!0,iconContainerHTML:'<svg viewBox="0 0 10.583333 10.583334"><use xlink:href="#token-icon"></svg>',onValueChange:this.handleTokenValueChange})),a.createElement("div",{className:"token-purchaser-commands-label"},"for"),a.createElement("div",{className:"token-dollar-input-container"},a.createElement(b,{min:1,max:this.MAX_NUMBER_OF_DOLLARS,step:1,initialValue:this.state.currentNumberOfTokens*this.props.tokenPrice,acceptsCurrency:!0,iconContainerHTML:"$",onValueChange:this.handleDollarValueChange})),a.createElement("div",null,a.createElement("span",{className:l("tokens-button","emphasized-tokens-button"),onClick:this.handleAddToCart},"add to cart"))))},t.prototype.handleTokenValueChange=function(e){this.setState({currentNumberOfTokens:e})},t.prototype.handleDollarValueChange=function(e){this.setState({currentNumberOfTokens:""!==e?e/this.props.tokenPrice:void 0})},t.prototype.handleAddToCart=function(e){this.isTokenNumberValid()&&this.props.onAddTokensToCart&&this.props.onAddTokensToCart(this.state.currentNumberOfTokens)},t.prototype.isTokenNumberValid=function(){return this.state.currentNumberOfTokens>=this.MIN_NUMBER_OF_TOKENS&&this.state.currentNumberOfTokens<=this.MAX_NUMBER_OF_TOKENS},t}(a.Component);n(831);n.d(t,"a",function(){return w});var w,C=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();!function(e){e[e.showingTokenInfo=0]="showingTokenInfo",e[e.cashout=1]="cashout",e[e.cashoutComplete=2]="cashoutComplete",e[e.error=3]="error",e[e.processing=4]="processing",e[e.purchasing=5]="purchasing",e[e.ledger=6]="ledger"}(w||(w={}));var _=function(e){function t(t){var n=e.call(this,t)||this;return n.isComponentMounted=!1,n.state={steps:[],cashoutPaymentTypes:[],tokenLedgerItems:[],tokenStatusInfo:{availableCompedTokenCount:0,availablePurchasedTokenCount:0},errorMessage:""},n}return C(t,e),t.prototype.render=function(){var e=this;return a.createElement(i.b,{mainContainerClassName:"token-modal "+this.getCurrentStateClass(),isOpen:this.props.isShown,hasBackButton:this.hasBackArrow(),onClose:function(){e.setState({steps:[w.showingTokenInfo],cashoutPaymentTypes:[],tokenLedgerItems:[],tokenStatusInfo:e.state.tokenStatusInfo,errorMessage:""}),e.props.onClose&&e.props.onClose()},onBack:function(){return e.handleBackClick()},title:this.getModalTitle(),subtitle:this.getModalSubtitle(),theme:this.getCurrentStateFullScreenTheme(),isContentVerticalTop:!0,initialOverlayTop:this.props.topOffset},this.generateCurrentComponent())},t.prototype.componentDidMount=function(){this.isComponentMounted=!0,this.props.initialStep&&this.props.initialStep!=w.showingTokenInfo?this.moveForwardToStep(this.props.initialStep,!0,!0):this.moveForwardToStep(w.showingTokenInfo)},t.prototype.componentWillUnmount=function(){this.isComponentMounted=!1},t.prototype.componentWillReceiveProps=function(e){!this.props.isShown&&e.isShown&&(this.props.initialStep&&!this.hasConsumedInitialState?(this.moveForwardToStep(this.props.initialStep,!0,!0),this.hasConsumedInitialState=!0):this.moveForwardToStep(w.showingTokenInfo,!0))},t.prototype.hasBackArrow=function(){if(this.state.steps.length<=1)return!1;var e=this.getCurrentStep();return e!=w.processing&&e!=w.cashoutComplete&&e!=w.error&&this.state.steps.filter(function(e){return e!==w.processing}).length>1},t.prototype.generateCurrentComponent=function(){var e=this;switch(this.getCurrentStep()){case w.showingTokenInfo:return a.createElement(u,{purchasedTokens:this.state.tokenStatusInfo.availablePurchasedTokenCount,compedTokens:this.state.tokenStatusInfo.availableCompedTokenCount,onShowTokenLedger:function(){return e.moveForwardToStep(w.ledger)},onCashout:function(){return e.moveForwardToStep(w.cashout)},onGetMoreTokens:function(){return e.moveForwardToStep(w.purchasing)}});case w.ledger:return a.createElement(m,{isProcessing:!1,livebookBaseLink:this.props.livebookBaseLink,livevideoBaseLink:this.props.livevideoBaseLink,onCashout:function(){return e.moveForwardToStep(w.cashout)},onGetMoreTokens:function(){return e.moveForwardToStep(w.purchasing)},isCashoutDisabled:this.state.tokenStatusInfo.availablePurchasedTokenCount<=0,items:this.state.tokenLedgerItems});case w.cashout:case w.cashoutComplete:return a.createElement(k,{tokenCount:this.state.tokenStatusInfo.availablePurchasedTokenCount,tokenPrice:this.props.tokenPrice,paymentTypes:this.state.cashoutPaymentTypes,isCashoutComplete:this.getCurrentStep()==w.cashoutComplete,onCashout:function(){return e.moveForwardToStep(w.cashoutComplete)},onClose:this.props.onClose});case w.purchasing:return a.createElement(y,{tokenPrice:this.props.tokenPrice,onAddTokensToCart:this.props.onAddTokensToCart});case w.error:return a.createElement("p",{className:"error-container"},this.state.errorMessage);case w.processing:default:return a.createElement(s.a,null)}},t.prototype.moveForwardToStep=function(e,t,n){var o=this;void 0===t&&(t=!1);var a=t?[]:this.state.steps.concat([]);if(n&&a.push(w.showingTokenInfo),e==w.ledger)a.push(w.processing),this.props.getTokenLedgerItems().then(function(t){o.isComponentMounted&&o.setState(r.a.combineInNew(o.state,{tokenLedgerItems:t,steps:a.concat([e])}))}).catch(function(e){o.isComponentMounted&&o.setState(r.a.combineInNew(o.state,{tokenLedgerItems:[],steps:a.concat([w.error]),errorMessage:e}))});else if(e==w.cashout){a.push(w.processing),Promise.all([this.props.getTokenState(),this.props.getCashoutPaymentTypes()]).then(function(t){var n=t[0],i=t[1];o.isComponentMounted&&o.setState(r.a.combineInNew(o.state,{tokenStatusInfo:n,cashoutPaymentTypes:i,steps:a.concat([e])}))}).catch(function(e){o.isComponentMounted&&o.setState(r.a.combineInNew(o.state,{tokenStatusInfo:{availableCompedTokens:0,availablePurchasedTokens:0},cashoutPaymentTypes:[],steps:a.concat([w.error]),errorMessage:e}))})}else e==w.cashoutComplete?(a.push(w.processing),this.props.onCashout().then(function(t){o.isComponentMounted&&o.setState(r.a.combineInNew(o.state,{steps:a.concat([e])}))}).catch(function(e){o.isComponentMounted&&o.setState(r.a.combineInNew(o.state,{steps:a.concat([w.error]),errorMessage:e}))})):e==w.showingTokenInfo?(a.push(w.processing),this.props.getTokenState().then(function(t){o.isComponentMounted&&o.setState(r.a.combineInNew(o.state,{tokenStatusInfo:t,steps:a.concat([e])}))}).catch(function(e){o.isComponentMounted&&o.setState(r.a.combineInNew(o.state,{tokenStatusInfo:{availableCompedTokens:0,availablePurchasedTokens:0},steps:a.concat([w.error]),errorMessage:e}))})):a.push(e);this.setState(r.a.combineInNew(this.state,{steps:a}))},t.prototype.getCurrentStateClass=function(){switch(this.getCurrentStep()){case w.showingTokenInfo:return"token-stack-info-modal";case w.ledger:return"token-ledger-modal";case w.cashout:case w.cashoutComplete:return"token-cashout-modal";case w.purchasing:return"token-purchaser-modal";case w.error:case w.processing:return""}},t.prototype.getModalTitle=function(){switch(this.getCurrentStep()){case w.showingTokenInfo:return"";case w.cashout:return"cashout";case w.cashoutComplete:return"cashout complete";case w.error:return"error";case w.processing:return"";case w.purchasing:return"get more tokens";case w.ledger:return"token ledger"}},t.prototype.getModalSubtitle=function(){switch(this.getCurrentStep()){case w.showingTokenInfo:return" ";case w.cashout:case w.cashoutComplete:case w.error:case w.processing:return"";case w.purchasing:return"you can cash them out anytime";case w.ledger:return""}},t.prototype.getCurrentStateFullScreenTheme=function(){switch(this.getCurrentStep()){case w.showingTokenInfo:case w.cashout:case w.cashoutComplete:case w.error:case w.processing:case w.purchasing:return i.a.dark;case w.ledger:default:return i.a.standard}},t.prototype.getCurrentStep=function(){return this.state.steps[this.state.steps.length-1]},t.prototype.handleBackClick=function(){this.setState(r.a.combineInNew(this.state,{steps:this.removeLastAndAllConnectedTempSteps()}))},t.prototype.removeLastAndAllConnectedTempSteps=function(){for(var e=this.state.steps.slice(0,Math.max(0,this.state.steps.length-1)),t=e.length-1;t>=0&&(e[t]==w.processing||e[t]==w.error||e[t]==w.cashoutComplete);t--)e.pop();return e},t}(a.Component);t.b=_},816:function(e,t,n){(e.exports=n(323)(!1)).push([e.i,".token-modal .loading-results-container{min-height:150px}.token-modal p{margin-top:0}.token-modal .error-container{color:red}.tokens-button{display:inline-block;text-align:center;color:#3c3c3c;background-color:white;padding:0.25em 1.5em;user-select:none;cursor:pointer;font-weight:400}.tokens-button:hover:not(.disabled){background-color:#9a9a9a}.tokens-button:active:not(.disabled){background-color:#8d8d8d}.tokens-button.disabled{background-color:dimgray;cursor:default}.tokens-button.emphasized-tokens-button{color:inherit;background-color:#fecb2f}.tokens-button.emphasized-tokens-button:hover:not(.disabled){background-color:#fed862;color:#997a00}.tokens-button.emphasized-tokens-button:active:not(.disabled){background-color:#fed148}.tokens-button.add-to-cart-token-button{color:white;background-color:#3C67A2}.tokens-button.add-to-cart-token-button:hover:not(.disabled){background-color:#5280bf}.tokens-button.add-to-cart-token-button:active:not(.disabled){background-color:#4373b5}.tokens-button.view-in-cart-token-button{color:white;background-color:#67a73d}.tokens-button.view-in-cart-token-button:hover:not(.disabled){background-color:#80c156}.tokens-button.view-in-cart-token-button:active:not(.disabled){background-color:#73ba44}\n",""])},817:function(e,t,n){var o=n(818);"string"==typeof o&&(o=[[e.i,o,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(324)(o,a);o.locals&&(e.exports=o.locals)},818:function(e,t,n){(e.exports=n(323)(!1)).push([e.i,".token-notifier-container{font-family:Lato;font-weight:300}.token-notifier-container h3{color:#fecb2f;font-size:150%;font-weight:300}.token-notifier-container p,.token-notifier-container a{color:white}.token-notifier-container a{text-decoration:underline}\n",""])},819:function(e,t,n){var o=n(820);"string"==typeof o&&(o=[[e.i,o,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(324)(o,a);o.locals&&(e.exports=o.locals)},820:function(e,t,n){(e.exports=n(323)(!1)).push([e.i,".out-of-tokens-modal .out-of-tokens-modal-command-container{margin-top:1em}.out-of-tokens-modal .out-of-tokens-modal-command-container .tokens-button{margin-top:0.5em;margin-right:1em}.out-of-tokens-modal em{font-weight:300}\n",""])},821:function(e,t,n){var o=n(822);"string"==typeof o&&(o=[[e.i,o,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(324)(o,a);o.locals&&(e.exports=o.locals)},822:function(e,t,n){(e.exports=n(323)(!1)).push([e.i,".token-stack-info-modal{width:100%;font-family:Lato;line-height:normal}.token-stack-info-modal div{box-sizing:content-box}.token-stack-info-modal .token-stack-main-container{display:flex}.token-stack-info-modal .token-stack-info-container{display:flex;flex-direction:column;width:60%;color:#fecb2f}.token-stack-info-modal .token-stack-info-container .token-stack-info-row{display:flex;justify-content:center;align-items:center;padding:8px;height:30px;font-size:1.5em}.token-stack-info-modal .token-stack-info-container .token-stack-info-row .token-stack-info-row-token-container{display:flex;align-items:center;justify-content:center;text-align:center;width:50px}.token-stack-info-modal .token-stack-info-container .token-stack-info-row .token-stack-info-row-qualifier-label{width:calc(50% - 25px);text-align:right}.token-stack-info-modal .token-stack-info-container .token-stack-info-row .token-stack-info-row-token-count{width:calc(50% - 25px)}.token-stack-info-modal .token-stack-info-container .token-stack-info-row:last-child{border-top:1px solid}.token-stack-info-modal .token-stack-buttons-container{display:flex;width:40%;flex-direction:column;align-items:center}.token-stack-info-modal .token-stack-buttons-container .tokens-button{width:115px;display:block;margin:8px}.token-stack-info-modal svg{width:1.2em;height:1.2em}@media screen and (max-width: 550px){.token-stack-info-modal .token-stack-main-container{flex-direction:column}.token-stack-info-modal .token-stack-info-container,.token-stack-info-modal .token-stack-buttons-container{width:100%}}@media screen and (max-width: 400px){.token-stack-info-modal .token-stack-info-container .token-stack-info-row{font-size:1.3em}}\n",""])},823:function(e,t,n){var o=n(824);"string"==typeof o&&(o=[[e.i,o,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(324)(o,a);o.locals&&(e.exports=o.locals)},824:function(e,t,n){(e.exports=n(323)(!1)).push([e.i,".token-ledger-modal{font-family:Lato;font-weight:300;box-sizing:unset;line-height:normal}.token-ledger-modal *{box-sizing:unset}@media screen and (max-width: 600px){.token-ledger-modal .tokens-button{padding:0.25em}}.token-ledger-modal .emphasized-tokens-button{margin-right:1em}.token-ledger-modal .total-balance-container{display:flex;align-items:center;float:right;font-size:120%}.token-ledger-modal .total-balance-container svg{width:20px;height:20px;margin:0 1.5em}.token-ledger-modal .total-balance-container .balance-label{font-weight:400}.token-ledger-modal .token-ledger-table-container{overflow-x:auto}.token-ledger-modal h3{font-family:Lato;font-weight:300}.token-ledger-modal table{font-weight:300;min-width:450px}.token-ledger-modal table th{font-weight:300;padding:1em 0.5em}.token-ledger-modal table td{padding:0.25em 0.5em}.token-ledger-modal table td:first-child,.token-ledger-modal table th:first-child{padding-left:0}.token-ledger-modal table td:last-child,.token-ledger-modal table th:last-child{padding-right:1.5em}.token-ledger-modal tfoot td:last-child{padding-right:1em}.token-ledger-modal thead,.token-ledger-modal tbody{font-size:80%}.token-ledger-modal thead tr th{border-top:1px solid black;border-bottom:1px solid black}.token-ledger-modal tfoot tr td{padding-top:0.5em;border-top:1px solid black}.token-ledger-modal tbody tr:first-child td{padding-top:1em}.token-ledger-modal tbody{display:block;max-height:50vh;overflow-y:scroll}.token-ledger-modal tbody td{vertical-align:top}.token-ledger-modal tbody td:nth-child(4){color:#ba4448}.token-ledger-modal thead,.token-ledger-modal tbody tr,.token-ledger-modal tfoot{display:table;width:100%;table-layout:fixed}.token-ledger-modal tbody tr:last-child td{padding-bottom:1em}.token-ledger-modal table th:nth-child(1),.token-ledger-modal table td:nth-child(1),.token-ledger-modal table th:nth-child(2),.token-ledger-modal table td:nth-child(2){text-align:left}.token-ledger-modal table th:nth-child(3),.token-ledger-modal table td:nth-child(3),.token-ledger-modal table th:nth-child(4),.token-ledger-modal table td:nth-child(4),.token-ledger-modal table th:nth-child(5),.token-ledger-modal table td:nth-child(5){text-align:right}.token-ledger-modal .free-flag{background-color:#5facbe;position:relative;padding-right:10px;padding-left:5px;color:white;position:relative;font-size:11px;bottom:unset;float:left;margin-top:2px}.token-ledger-modal .free-flag:after{content:'';width:0;height:0;border-style:solid;border-width:7px 7px 6px 0;border-color:transparent white transparent transparent;position:absolute;right:0;top:0}\n",""])},825:function(e,t,n){var o=n(826);"string"==typeof o&&(o=[[e.i,o,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(324)(o,a);o.locals&&(e.exports=o.locals)},826:function(e,t,n){(e.exports=n(323)(!1)).push([e.i,".token-cashout-modal{font-family:Lato;font-weight:300}.token-cashout-modal svg{width:26px;height:26px;display:inline-block;margin:0 0.3em;vertical-align:sub}.token-cashout-modal h3{margin:0 0 0.5em 0;font-size:2em;font-weight:300;color:#fecb2f}.token-cashout-modal .cashout-subtitle{color:#fecb2f;font-size:1.2em}.token-cashout-modal .cashout-subtitle.big-cashout-subtitle{font-size:1.5em}.token-cashout-modal .cashout-subtitle.big-cashout-subtitle svg{margin-left:0;width:30px;height:30px}.token-cashout-modal .loading-results-container{min-height:unset}.token-cashout-modal .token-amount{margin-right:0.4em;font-weight:700}.token-cashout-modal .dollar-amount{margin-left:0.4em;font-weight:700;color:white}.token-cashout-modal .cashout-explanation{color:#fecb2f;margin:0 0 1em 0;font-size:1.2em}.token-cashout-modal .cashout-explanation-done{color:gray;font-style:italic;margin:0.5em 0}.token-cashout-modal .big-cashout-subtitle+.cashout-explanation{margin:1em 0}.token-cashout-modal .cashout-commands-container{display:flex;justify-content:space-between}.token-cashout-modal .error-container{font-size:100%;margin-bottom:1.25em;color:#b70b0b}.token-cashout-modal .error-container h3{color:inherit}.token-cashout-modal .error-container a,.token-cashout-modal .error-container a:visited{color:white}.token-cashout-modal .payment-info-container{color:white;font-weight:700}.token-cashout-modal li.payment-info-container{font-size:0.75em}\n",""])},827:function(e,t,n){var o=n(828);"string"==typeof o&&(o=[[e.i,o,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(324)(o,a);o.locals&&(e.exports=o.locals)},828:function(e,t,n){(e.exports=n(323)(!1)).push([e.i,'.number-input-container{display:inline-flex;position:relative}.number-input-container input[type="number"]::-webkit-outer-spin-button,.number-input-container input[type="number"]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.number-input-container input[type="number"]{-moz-appearance:textfield}.number-input-container input[type="number"]{font-family:inherit;font-size:150%;padding-left:1em;text-indent:1em;min-width:110px;height:46px;background-color:#4d4d4d;color:inherit;border:1px solid transparent;outline:none;text-align:right;margin:0 2px 0 0;padding:0.2em;border-top-left-radius:0.3em;border-bottom-left-radius:0.3em;box-shadow:unset;box-sizing:border-box;display:inline-block;line-height:unset}.number-input-container input[type="number"]:focus{outline:none;background-color:#4d4d4d;border:1px solid transparent}.number-input-container input[type="number"].invalid{color:red;border:1px solid red}.number-input-container .arrow-container{padding:0.2em 0.6em;background-color:#4d4d4d;color:gray;height:22px;box-sizing:border-box;line-height:normal;cursor:pointer;user-select:none}.number-input-container .arrow-container i{vertical-align:top;user-select:none}.number-input-container .arrow-container.arrow-up-container{border-top-right-radius:0.3em;margin-bottom:2px}.number-input-container .arrow-container.arrow-down-container{border-bottom-right-radius:0.3em}.number-input-container .arrow-container:hover{background-color:#676767}.number-input-container .arrow-container:active{background-color:#5a5a5a}.number-input-container .icon-container{position:absolute;display:flex;font-size:150%;top:50%;left:0.5em;transform:translateY(-50%);user-select:none;color:inherit;transform:translate(-20%, -50%);color:inherit}.number-input-container .icon-container svg{width:25px;height:25px}\n',""])},829:function(e,t,n){var o=n(830);"string"==typeof o&&(o=[[e.i,o,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(324)(o,a);o.locals&&(e.exports=o.locals)},830:function(e,t,n){(e.exports=n(323)(!1)).push([e.i,".token-purchaser-modal{font-family:Lato}.token-purchaser-modal .token-purchaser-title-label{display:inline-block;font-size:200%;font-weight:300;color:#fecb2f;margin-right:0.25em}.token-purchaser-modal .modal-content-container{overflow:unset !important}.token-purchaser-modal .token-purchaser-sub-title-label{display:inline-block;font-style:italic;font-size:80%;font-weight:300;color:gray}.token-purchaser-modal .token-purchaser-commands-label{font-size:200%;margin:0 0.5em;font-style:italic;color:gray}.token-purchaser-modal .emphasized-tokens-button{margin-left:2em;font-size:120%}.token-purchaser-modal .split-button-container{font-size:0.8em;margin-left:2em}.token-purchaser-modal .split-button-container .split-button-label,.token-purchaser-modal .split-button-container .split-button-arrow-container{padding:0.5em 1em;background-color:#fecb2f}.token-purchaser-modal .split-button-container .split-button-label:hover,.token-purchaser-modal .split-button-container .split-button-arrow-container:hover{background-color:#fed148}.token-purchaser-modal .split-button-container .split-button-label:active,.token-purchaser-modal .split-button-container .split-button-arrow-container:active{background-color:#fec516}.token-purchaser-modal .split-button-container ul{background-color:#fed862;font-size:inherit}.token-purchaser-modal .split-button-container ul li{font-size:inherit}.token-purchaser-modal .split-button-container ul li:hover{background-color:#fede7b}.token-purchaser-modal .split-button-container ul li:active{background-color:#fed148}.token-purchaser-modal .token-purchaser-commands-container{display:flex;align-items:center}@media screen and (max-width: 650px){.token-purchaser-modal .token-purchaser-commands-container{flex-direction:column}.token-purchaser-modal .token-purchaser-commands-container>*{margin:0.25em}.token-purchaser-modal .token-purchaser-commands-container>*:last-child{margin-top:1em}.token-purchaser-modal .token-purchaser-commands-container .emphasized-tokens-button,.token-purchaser-modal .token-purchaser-commands-container .split-button-container{margin-left:unset}}.token-purchaser-modal .token-number-input-container{color:#fecb2f}.token-purchaser-modal .token-dollar-input-container{color:white}.token-purchaser-modal .number-input-container input{width:110px;font-weight:900}.token-purchaser-modal .number-input-container .icon-container{font-weight:900}.token-purchaser-modal a{color:white}\n",""])},831:function(e,t,n){var o=n(832);"string"==typeof o&&(o=[[e.i,o,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(324)(o,a);o.locals&&(e.exports=o.locals)},832:function(e,t,n){(e.exports=n(323)(!1)).push([e.i,"",""])},833:function(e,t,n){var o=n(834);"string"==typeof o&&(o=[[e.i,o,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(324)(o,a);o.locals&&(e.exports=o.locals)},834:function(e,t,n){(e.exports=n(323)(!1)).push([e.i,".token-upsell-container{font-family:Lato;font-weight:300;margin:1em auto 0 auto !important}.token-upsell-container .modal-content-container{font-size:20px}.token-upsell-container svg{width:20px;height:20px;vertical-align:text-bottom}.token-upsell-container .upsell-logical-line-item{display:inline-block}.token-upsell-container p,.token-upsell-container a{color:white}.token-upsell-container a{text-decoration:underline}\n",""])}}]);
//# sourceMappingURL=vbook-ui~micropurchase~unlockManager~unlockModal.chunk.js.map?eb90b2acfc03de74c93e